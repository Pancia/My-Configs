#!/usr/bin/env ruby

require "readline"
require "shellwords"

puts "Welcome to hs-fennel 0.0.1 !"
STDOUT.flush

@iFile = "/tmp/hs-fennel.input"
@cmdFile = "/tmp/hs-fennel.cmd"

File.write(@cmdFile, "fennel.dofile(\"#{@iFile}\")")

while inp = Readline.readline(">> ", false)
  File.write(@iFile, inp.chomp)
  system("hs #{@cmdFile}")
  STDOUT.flush
end
